"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[500],{1885:function(e,t,n){n.r(t),n.d(t,{dict:function(){return o}});var a=n(5893),o={Jan:"01",Feb:"02",Mar:"03",Apr:"04",May:"05",Jun:"06",Jul:"07",Aug:"08",Sep:"09",Oct:"10",Nov:"11",Dec:"12"};t.default=function(){return(0,a.jsx)(a.Fragment,{})}},5743:function(e,t,n){n.r(t),n.d(t,{BACKGROUND_COLOR:function(){return r},TEXT_COLOR:function(){return o}});var a=n(5893),o=["white","red","black","blue","blueviolet","brown","green"],r=["blue","red","white","black","pink","blue","beige","blueviolet","brown","darkblue","gold","lawngreen","green"];t.default=function(){return(0,a.jsx)(a.Fragment,{})}},500:function(e,t,n){n.r(t),n.d(t,{default:function(){return v}});var a=n(5893),o=n(7294),r=n(1438),d=n(2951),l=n(9669),s=n.n(l);function c(e,t){return t||(t=new FormData),s().post(e,t)}var i=function(){function e(){(0,r.Z)(this,e)}return(0,d.Z)(e,[{key:"getAllTodos",value:function(e,t){var n=new FormData;return e&&n.append("search_text",e),t&&n.append("filter_result",t),c("/api/get_all_todos",n)}},{key:"getTimeLeft",value:function(){return c("/api/get_time_left",new FormData)}},{key:"addTodo",value:function(e,t,n,a,o,r){var d=new FormData;return d.append("label",e),d.append("description",t),d.append("text_color",n),d.append("background_color",a),o&&d.append("date",o),r&&d.append("time",r),c("/api/add_new_todo",d)}},{key:"getTodo",value:function(e){var t=new FormData;return t.append("todo_id",e),c("/api/get_todo",t)}},{key:"updateTodo",value:function(e,t,n,a,o,r,d){var l=new FormData;return l.append("todo_id",e),l.append("label",t),l.append("description",n),l.append("text_color",a),l.append("background_color",o),r&&l.append("date",r),d&&l.append("time",d),c("/api/update_todo",l)}},{key:"deleteTodo",value:function(e){var t=new FormData;return t.append("todo_id",e),c("/api/delete_todo",t)}}]),e}(),u=null;function h(){return null==u&&(u=new i),u}var p=n(5743),f=n(3680),m=n(4966),x=n(1885),g=function(e){var t=(0,o.useState)(""),n=t[0],r=t[1],d=(0,o.useState)(""),l=d[0],s=d[1],c=(0,o.useState)(p.TEXT_COLOR[0]),i=c[0],u=c[1],g=(0,o.useState)(p.BACKGROUND_COLOR[0]),b=g[0],j=g[1],v=(0,o.useState)(""),k=v[0],N=v[1],_=(0,o.useState)(!1),y=_[0],S=_[1],C=(0,o.useState)(""),w=C[0],T=C[1],F=(0,o.useState)(""),D=F[0],W=F[1],O=e.type,L=e.show,E=e.setShow,A=e.todoID;(0,o.useEffect)((function(){void 0!==A&&h().getTodo(A).then((function(e){if(e.data.success){if(r(e.data.todo.label),s(e.data.todo.description),u(e.data.todo.text_color),j(e.data.todo.background_color),null!==e.data.todo.deadline){for(var t=e.data.todo.deadline,n="",a="",o="",d="",l=5;l<t.length-3;l++)l<=6?a+=t[l]:l>=8&&l<=10?d+=t[l]:l>=12&&l<=15?o+=t[l]:l>=16&&(n+=t[l]);var c=o+"-"+x.dict[d]+"-"+a;T(c),W(n.trim()),S(!0)}}else N("Something Went Wrong!")})).catch((function(e){N("Something Went Wrong!")}))}),[]);var R=function(e){S(e.target.checked),T(""),W("")};return(0,a.jsxs)(m.Z,{show:L,backdrop:"static",keyboard:!1,children:[(0,a.jsx)(m.Z.Header,{closeButton:!0,children:(0,a.jsx)(m.Z.Title,{children:"add"===O?"Add New Todo":"Edit Todo"})}),(0,a.jsxs)(m.Z.Body,{children:[""!==k?(0,a.jsx)("p",{className:"error",children:k}):"",(0,a.jsxs)("form",{children:[(0,a.jsxs)("div",{className:"form-group",children:[(0,a.jsx)("label",{htmlFor:"label",children:"Label"}),(0,a.jsx)("input",{type:"text",className:"form-control",value:n,id:"label",placeholder:"Enter label",onChange:function(e){return r(e.target.value)}})]}),(0,a.jsxs)("div",{className:"form-group",children:[(0,a.jsx)("label",{htmlFor:"desc",children:"Description"}),(0,a.jsx)("textarea",{className:"form-control",value:l,id:"desc",rows:"3",onChange:function(e){return s(e.target.value)}})]}),(0,a.jsxs)("div",{className:"form-check",children:[y?(0,a.jsx)("input",{type:"checkbox",className:"form-check-input",id:"deadline",onChange:R,checked:!0}):(0,a.jsx)("input",{type:"checkbox",className:"form-check-input",id:"deadline",onChange:R}),(0,a.jsx)("label",{className:"form-check-label",htmlFor:"deadline",id:"deadline-text",children:"With Deadline"}),(0,a.jsx)("br",{}),y?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("input",{type:"date",className:"form-check-input",id:"date",onChange:function(e){return T(e.target.value)},value:w}),(0,a.jsx)("input",{type:"time",className:"form-check-input",id:"time",step:"1",onChange:function(e){return W(e.target.value)},value:D}),(0,a.jsx)("br",{})]}):""]}),(0,a.jsx)("br",{}),(0,a.jsxs)("div",{className:"form-group",children:[(0,a.jsx)("label",{htmlFor:"tcolor",children:"Text Color"}),(0,a.jsx)("select",{className:"form-control",value:i,id:"tcolor",onChange:function(e){return u(e.target.value)},children:p.TEXT_COLOR.map((function(e,t){return(0,a.jsx)("option",{children:e},t)}))})]}),(0,a.jsxs)("div",{className:"form-group",children:[(0,a.jsx)("label",{htmlFor:"bcolor",children:"Background Color"}),(0,a.jsx)("select",{className:"form-control",value:b,id:"tcolor",onChange:function(e){return j(e.target.value)},children:p.BACKGROUND_COLOR.map((function(e,t){return(0,a.jsx)("option",{children:e},t)}))})]})]})]}),(0,a.jsxs)(m.Z.Footer,{children:[(0,a.jsx)(f.Z,{variant:"danger",onClick:function(){E(!1),N("")},children:"Cancel"}),(0,a.jsx)("button",{type:"button",id:"modal-btn",className:"btn btn-success",onClick:function(){"add"===O?""===n?N("Label must not be empty!"):!y||""!==w&&""!==D?h().addTodo(n,l,i,b,w,D).then((function(e){e.data.success?(E(!1),N("")):N("Something Went Wrong!")})).catch((function(e){N("Something Went Wrong!")})):N("Date and Time must not be empty!"):""===n?N("Label must not be empty!"):!y||""!==w&&""!==D?h().updateTodo(A,n,l,i,b,w,D).then((function(e){e.data.success?(E(!1),N("")):N("Something Went Wrong!")})).catch((function(e){N("Something Went Wrong!")})):N("Date and Time must not be empty!")},children:"add"===O?"Add":"Edit"})]})]})},b=function(e){var t,n=e.timeLeft,o=e.todo,r=e.index;return n&&n[r]&&n[r].date?(t=n[n.map((function(e){return e.id})).indexOf(o.id)].date,(0,a.jsx)(a.Fragment,{children:null!==t&&1===t?(0,a.jsx)("p",{children:"1 day left"}):null!==t&&0!==t&&t>0?(0,a.jsxs)("p",{children:[t," days left"]}):null!==t&&0===t?(0,a.jsx)("p",{children:"Today"}):null!==t&&t<0?(0,a.jsx)("p",{children:"Passed"}):""})):(0,a.jsx)(a.Fragment,{})},j=function(e){var t=(0,o.useState)(-1),n=t[0],r=t[1],d=(0,o.useState)(""),l=d[0],s=d[1],c=e.show,i=e.setShow,u=e.todos,p=e.timeLeft,f=e.setIsDeleted,m=(0,o.useCallback)((function(e){var t=e.target.id;h().deleteTodo(t).then((function(e){e.data.success?(f(!0),s("")):s("Something Went Wrong!")})).catch((function(e){s("Something Went Wrong!")}))}));return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"card-container",children:[""!==l?(0,a.jsx)("p",{className:"error",children:l}):"",u&&u.map((function(e,t){return(0,a.jsxs)("div",{className:"card-flex",children:[(0,a.jsx)("div",{id:"card",style:{color:e.text_color,backgroundColor:e.background_color},onClick:function(){i(!0),r(e.id)},children:(0,a.jsxs)("div",{className:"card-label-flex",children:[(0,a.jsx)("p",{children:e.label}),(0,a.jsx)(b,{timeLeft:p,todo:e,index:t})]})}),(0,a.jsx)("i",{className:"fa fa-trash-o",id:e.id,onClick:m})]},e.id)}))]}),c?(0,a.jsx)(g,{type:"edit",show:c,setShow:i,todoID:n}):""]})},v=function(){var e=(0,o.useState)([]),t=e[0],n=e[1],r=(0,o.useState)([]),d=r[0],l=r[1],s=(0,o.useState)(!1),c=s[0],i=s[1],u=(0,o.useState)(!1),p=u[0],f=u[1],m=(0,o.useState)(!1),x=m[0],b=m[1],v=(0,o.useState)(""),k=v[0],N=v[1],_=(0,o.useState)("Default"),y=_[0],S=_[1];return(0,o.useEffect)((function(){b(!1),h().getAllTodos(k,y).then((function(e){e.data.success?n(e.data.todos):console.log("Error")})).catch((function(e){console.log(e)}))}),[c,p,x,k,y]),(0,o.useEffect)((function(){h().getTimeLeft().then((function(e){e.data.success?l(e.data.time_left):console.log("Error")})).catch((function(e){console.log(e)}))}),[c,t]),(0,a.jsx)("div",{className:"flex",children:(0,a.jsxs)("div",{className:"box",children:[(0,a.jsx)("h1",{children:"What's The Plan For Today?"}),(0,a.jsxs)("div",{className:"input-group mb-3",children:[(0,a.jsx)("div",{className:"input-group-prepend",children:(0,a.jsx)("span",{className:"input-group-text",id:"basic-addon1",children:"\ud83d\udd0d"})}),(0,a.jsx)("input",{type:"text",className:"form-control",placeholder:"Search for a todo","aria-label":"Username","aria-describedby":"basic-addon1",onChange:function(e){return N(e.target.value)}})]}),(0,a.jsxs)("div",{className:"space-between-flex",children:[(0,a.jsxs)("div",{className:"form-group",children:[(0,a.jsx)("label",{htmlFor:"filter",children:"Filter Todos"}),(0,a.jsxs)("select",{className:"form-control",id:"filter",onChange:function(e){return S(e.target.value)},children:[(0,a.jsx)("option",{children:"Default"}),(0,a.jsx)("option",{children:"Today"}),(0,a.jsx)("option",{children:"Passed"})]})]}),(0,a.jsx)("button",{type:"button",id:"add-btn",className:"btn btn-primary","data-toggle":"modal","data-target":"#todoModal",onClick:function(){return i(!0)},children:"Add"}),c?(0,a.jsx)(g,{type:"add",show:c,setShow:i}):""]}),(0,a.jsx)(j,{show:p,setShow:f,todos:t,timeLeft:d,setIsDeleted:b})]})})}}}]);