"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[500],{5743:function(e,t,n){n.r(t),n.d(t,{BACKGROUND_COLOR:function(){return r},TEXT_COLOR:function(){return o}});var a=n(5893),o=["white","red","black","blue","blueviolet","brown","green"],r=["blue","red","white","black","pink","blue","beige","blueviolet","brown","darkblue","gold","lawngreen","green"];t.default=function(){return(0,a.jsx)(a.Fragment,{})}},500:function(e,t,n){n.r(t),n.d(t,{default:function(){return j}});var a=n(5893),o=n(7294),r=n(1438),d=n(2951),l=n(9669),s=n.n(l);function c(e,t){return t||(t=new FormData),s().post("https://todo-list-test-demo-backend.herokuapp.com/"+e,t)}var i=function(){function e(){(0,r.Z)(this,e)}return(0,d.Z)(e,[{key:"getAllTodos",value:function(e,t){var n=new FormData;return n.append("search_text",e),n.append("filter_result",t),c("",n)}},{key:"getTimeLeft",value:function(){return c("getTimeLeft",new FormData)}},{key:"addTodo",value:function(e,t,n,a,o,r){var d=new FormData;return d.append("label",e),d.append("description",t),d.append("text_color",n),d.append("background_color",a),d.append("date",o),d.append("time",r),c("addTodo",d)}},{key:"getTodo",value:function(e){var t=new FormData;return t.append("todo_id",e),c("getTodo",t)}},{key:"updateTodo",value:function(e,t,n,a,o,r,d){var l=new FormData;return l.append("todo_id",e),l.append("label",t),l.append("description",n),l.append("text_color",a),l.append("background_color",o),l.append("date",r),l.append("time",d),c("updateTodo",l)}},{key:"deleteTodo",value:function(e){var t=new FormData;return t.append("todo_id",e),c("deleteTodo",t)}}]),e}(),u=null;function h(){return null==u&&(u=new i),u}var p=n(5743),m=n(3680),f=n(4966),x=function(e){var t=(0,o.useState)(""),n=t[0],r=t[1],d=(0,o.useState)(""),l=d[0],s=d[1],c=(0,o.useState)(p.TEXT_COLOR[0]),i=c[0],u=c[1],x=(0,o.useState)(p.BACKGROUND_COLOR[0]),g=x[0],b=x[1],j=(0,o.useState)(""),v=j[0],k=j[1],N=(0,o.useState)(!1),T=N[0],y=N[1],C=(0,o.useState)(""),S=C[0],w=C[1],_=(0,o.useState)(""),D=_[0],F=_[1],L=e.type,O=e.show,W=e.setShow,E=e.todoID;(0,o.useEffect)((function(){void 0!==E&&h().getTodo(E).then((function(e){if(r(e.data.todo.label),s(e.data.todo.description),u(e.data.todo.text_color),b(e.data.todo.background_color),null!==e.data.todo.deadline){var t=e.data.todo.deadline.split("T");w(t[0]),F(t[1].slice(0,-1)),y(!0)}})).catch((function(e){k("Something Went Wrong!")}))}),[]);var R=function(e){y(e.target.checked),w(""),F("")};return(0,a.jsxs)(f.Z,{show:O,backdrop:"static",keyboard:!1,children:[(0,a.jsx)(f.Z.Header,{closeButton:!0,children:(0,a.jsx)(f.Z.Title,{children:"add"===L?"Add New Todo":"Edit Todo"})}),(0,a.jsxs)(f.Z.Body,{children:[""!==v?(0,a.jsx)("p",{className:"error",children:v}):"",(0,a.jsxs)("form",{children:[(0,a.jsxs)("div",{className:"form-group",children:[(0,a.jsx)("label",{htmlFor:"label",children:"Label"}),(0,a.jsx)("input",{type:"text",className:"form-control",value:n,id:"label",placeholder:"Enter label",onChange:function(e){return r(e.target.value)}})]}),(0,a.jsxs)("div",{className:"form-group",children:[(0,a.jsx)("label",{htmlFor:"desc",children:"Description"}),(0,a.jsx)("textarea",{className:"form-control",value:l,id:"desc",rows:"3",onChange:function(e){return s(e.target.value)}})]}),(0,a.jsxs)("div",{className:"form-check",children:[T?(0,a.jsx)("input",{type:"checkbox",className:"form-check-input",id:"deadline",onChange:R,checked:!0}):(0,a.jsx)("input",{type:"checkbox",className:"form-check-input",id:"deadline",onChange:R}),(0,a.jsx)("label",{className:"form-check-label",htmlFor:"deadline",id:"deadline-text",children:"With Deadline"}),(0,a.jsx)("br",{}),T?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("input",{type:"date",className:"form-check-input",id:"date",onChange:function(e){return w(e.target.value)},value:S}),(0,a.jsx)("input",{type:"time",className:"form-check-input",id:"time",step:"1",onChange:function(e){return F(e.target.value)},value:D}),(0,a.jsx)("br",{})]}):""]}),(0,a.jsx)("br",{}),(0,a.jsxs)("div",{className:"form-group",children:[(0,a.jsx)("label",{htmlFor:"tcolor",children:"Text Color"}),(0,a.jsx)("select",{className:"form-control",value:i,id:"tcolor",onChange:function(e){return u(e.target.value)},children:p.TEXT_COLOR.map((function(e,t){return(0,a.jsx)("option",{children:e},t)}))})]}),(0,a.jsxs)("div",{className:"form-group",children:[(0,a.jsx)("label",{htmlFor:"bcolor",children:"Background Color"}),(0,a.jsx)("select",{className:"form-control",value:g,id:"tcolor",onChange:function(e){return b(e.target.value)},children:p.BACKGROUND_COLOR.map((function(e,t){return(0,a.jsx)("option",{children:e},t)}))})]})]})]}),(0,a.jsxs)(f.Z.Footer,{children:[(0,a.jsx)(m.Z,{variant:"danger",onClick:function(){W(!1),k("")},children:"Cancel"}),(0,a.jsx)("button",{type:"button",id:"modal-btn",className:"btn btn-success",onClick:function(){"add"===L?""===n?k("Label must not be empty!"):!T||""!==S&&""!==D?h().addTodo(n,l,i,g,S,D).then((function(e){"success"===e.data?(W(!1),k("")):k("Something Went Wrong!")})).catch((function(e){k("Something Went Wrong!")})):k("Date and Time must not be empty!"):""===n?k("Label must not be empty!"):!T||""!==S&&""!==D?h().updateTodo(E,n,l,i,g,S,D).then((function(e){"success"===e.data?(W(!1),k("")):k("Something Went Wrong!")})).catch((function(e){k("Something Went Wrong!")})):k("Date and Time must not be empty!")},children:"add"===L?"Add":"Edit"})]})]})},g=function(e){var t,n=e.timeLeft,o=e.todo,r=e.index;return n&&n[r]&&n[r].date?(t=n[n.map((function(e){return e.id})).indexOf(o.id)].date,(0,a.jsx)(a.Fragment,{children:null!==t&&1===t?(0,a.jsx)("p",{children:"1 day left"}):null!==t&&0!==t&&t>0?(0,a.jsxs)("p",{children:[t," days left"]}):null!==t&&0===t?(0,a.jsx)("p",{children:"Today"}):null!==t&&t<0?(0,a.jsx)("p",{children:"Passed"}):""})):(0,a.jsx)(a.Fragment,{})},b=function(e){var t=(0,o.useState)(-1),n=t[0],r=t[1],d=(0,o.useState)(""),l=d[0],s=d[1],c=e.show,i=e.setShow,u=e.todos,p=e.timeLeft,m=e.setIsDeleted,f=(0,o.useCallback)((function(e){var t=e.target.id;h().deleteTodo(t).then((function(e){"success"===e.data?(m(!0),s("")):s("Something Went Wrong!")})).catch((function(e){s("Something Went Wrong!")}))}));return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"card-container",children:[""!==l?(0,a.jsx)("p",{className:"error",children:l}):"",u.map((function(e,t){return(0,a.jsxs)("div",{className:"card-flex",children:[(0,a.jsx)("div",{id:"card",style:{color:e.text_color,backgroundColor:e.background_color},onClick:function(){i(!0),r(e.id)},children:(0,a.jsxs)("div",{className:"card-label-flex",children:[(0,a.jsx)("p",{children:e.label}),(0,a.jsx)(g,{timeLeft:p,todo:e,index:t})]})}),(0,a.jsx)("i",{className:"fa fa-trash-o",id:e.id,onClick:f})]},e.id)}))]}),c?(0,a.jsx)(x,{type:"edit",show:c,setShow:i,todoID:n}):""]})},j=function(){var e=(0,o.useState)([]),t=e[0],n=e[1],r=(0,o.useState)([]),d=r[0],l=r[1],s=(0,o.useState)(!1),c=s[0],i=s[1],u=(0,o.useState)(!1),p=u[0],m=u[1],f=(0,o.useState)(!1),g=f[0],j=f[1],v=(0,o.useState)(""),k=v[0],N=v[1],T=(0,o.useState)("Default"),y=T[0],C=T[1];return(0,o.useEffect)((function(){j(!1),h().getAllTodos(k,y).then((function(e){n(e.data.todos),l(e.data.time_left)})).catch((function(e){console.log(e)}))}),[c,p,g,k,y]),(0,o.useEffect)((function(){h().getTimeLeft().then((function(e){l(e.data.time_left)})).catch((function(e){console.log(e)}))}),[c,t]),(0,a.jsx)("div",{className:"flex",children:(0,a.jsxs)("div",{className:"box",children:[(0,a.jsx)("h1",{children:"What's The Plan For Today?"}),(0,a.jsxs)("div",{className:"input-group mb-3",children:[(0,a.jsx)("div",{className:"input-group-prepend",children:(0,a.jsx)("span",{className:"input-group-text",id:"basic-addon1",children:"\ud83d\udd0d"})}),(0,a.jsx)("input",{type:"text",className:"form-control",placeholder:"Search for a todo","aria-label":"Username","aria-describedby":"basic-addon1",onChange:function(e){return N(e.target.value)}})]}),(0,a.jsxs)("div",{className:"space-between-flex",children:[(0,a.jsxs)("div",{className:"form-group",children:[(0,a.jsx)("label",{htmlFor:"filter",children:"Filter Todos"}),(0,a.jsxs)("select",{className:"form-control",id:"filter",onChange:function(e){return C(e.target.value)},children:[(0,a.jsx)("option",{children:"Default"}),(0,a.jsx)("option",{children:"Today"}),(0,a.jsx)("option",{children:"Passed"})]})]}),(0,a.jsx)("button",{type:"button",id:"add-btn",className:"btn btn-primary","data-toggle":"modal","data-target":"#todoModal",onClick:function(){return i(!0)},children:"Add"}),c?(0,a.jsx)(x,{type:"add",show:c,setShow:i}):""]}),(0,a.jsx)(b,{show:p,setShow:m,todos:t,timeLeft:d,setIsDeleted:j})]})})}}}]);